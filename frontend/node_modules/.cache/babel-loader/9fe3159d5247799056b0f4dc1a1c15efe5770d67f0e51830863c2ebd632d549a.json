{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\votpl\\\\Downloads\\\\task_manager_complete\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchProjects, createProject } from '../store/projectsSlice';\nimport { Link } from 'react-router-dom';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WS = process.env.REACT_APP_WS_URL || 'http://localhost:4000';\nexport default function Dashboard() {\n  _s();\n  const dispatch = useDispatch();\n  const projects = useSelector(s => s.projects.list);\n  const loading = useSelector(s => s.projects.loading);\n  const [title, setTitle] = useState('');\n  const [desc, setDesc] = useState('');\n  useEffect(() => {\n    dispatch(fetchProjects());\n  }, [dispatch]);\n  useEffect(() => {\n    const socket = io(WS);\n    socket.on('connect', () => console.log('ws connected'));\n    socket.on('task:created', () => dispatch(fetchProjects()));\n    socket.on('task:updated', () => dispatch(fetchProjects()));\n    socket.on('task:deleted', () => dispatch(fetchProjects()));\n    return () => socket.disconnect();\n  }, [dispatch]);\n  const add = async () => {\n    if (!title) return alert('Title required');\n    await dispatch(createProject({\n      title,\n      description: desc\n    }));\n    setTitle('');\n    setDesc('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1,\n      columnNumber: 1130\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Project title\",\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        style: {\n          padding: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1179\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"description\",\n        value: desc,\n        onChange: e => setDesc(e.target.value),\n        style: {\n          padding: 8,\n          marginLeft: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1288\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: add,\n        style: {\n          marginLeft: 8\n        },\n        children: \"Add Project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1407\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1,\n      columnNumber: 1148\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1,\n      columnNumber: 1490\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: projects.map(p => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: '/projects/' + p.id,\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: p.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1,\n            columnNumber: 1579\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1,\n          columnNumber: 1550\n        }, this), \" - \", p.description]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1,\n        columnNumber: 1535\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1,\n      columnNumber: 1512\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1,\n    columnNumber: 1104\n  }, this);\n}\n_s(Dashboard, \"3zs+U+uo2nIfkbYfpHDF6OdRsxQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","fetchProjects","createProject","Link","io","jsxDEV","_jsxDEV","WS","process","env","REACT_APP_WS_URL","Dashboard","_s","dispatch","projects","s","list","loading","title","setTitle","desc","setDesc","socket","on","console","log","disconnect","add","alert","description","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","placeholder","value","onChange","e","target","marginLeft","onClick","map","p","to","id","_c","$RefreshReg$"],"sources":["C:/Users/votpl/Downloads/task_manager_complete/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'; import { useDispatch, useSelector } from 'react-redux'; import { fetchProjects, createProject } from '../store/projectsSlice'; import { Link } from 'react-router-dom'; import { io } from 'socket.io-client'; const WS = process.env.REACT_APP_WS_URL || 'http://localhost:4000'; export default function Dashboard(){ const dispatch=useDispatch(); const projects=useSelector(s=>s.projects.list); const loading=useSelector(s=>s.projects.loading); const [title,setTitle]=useState(''); const [desc,setDesc]=useState(''); useEffect(()=>{ dispatch(fetchProjects()); },[dispatch]); useEffect(()=>{ const socket = io(WS); socket.on('connect', ()=>console.log('ws connected')); socket.on('task:created', ()=> dispatch(fetchProjects())); socket.on('task:updated', ()=> dispatch(fetchProjects())); socket.on('task:deleted', ()=> dispatch(fetchProjects())); return ()=> socket.disconnect(); },[dispatch]); const add = async ()=>{ if(!title) return alert('Title required'); await dispatch(createProject({ title, description: desc })); setTitle(''); setDesc(''); }; return (<div style={{padding:20}}><h2>Dashboard</h2><div style={{marginBottom:20}}><input placeholder='Project title' value={title} onChange={e=>setTitle(e.target.value)} style={{padding:8}}/><input placeholder='description' value={desc} onChange={e=>setDesc(e.target.value)} style={{padding:8, marginLeft:8}}/><button onClick={add} style={{marginLeft:8}}>Add Project</button></div>{loading && <div>Loading...</div>}<ul>{projects.map(p=> (<li key={p.id}><Link to={'/projects/'+p.id}><strong>{p.title}</strong></Link> - {p.description}</li>))}</ul></div>); }\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,SAAS,EAACC,QAAQ,QAAO,OAAO;AAAE,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAAE,SAASC,aAAa,EAAEC,aAAa,QAAQ,wBAAwB;AAAE,SAASC,IAAI,QAAQ,kBAAkB;AAAE,SAASC,EAAE,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAC,MAAMC,EAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,gBAAgB,IAAI,uBAAuB;AAAE,eAAe,SAASC,SAASA,CAAA,EAAE;EAAAC,EAAA;EAAE,MAAMC,QAAQ,GAACd,WAAW,CAAC,CAAC;EAAE,MAAMe,QAAQ,GAACd,WAAW,CAACe,CAAC,IAAEA,CAAC,CAACD,QAAQ,CAACE,IAAI,CAAC;EAAE,MAAMC,OAAO,GAACjB,WAAW,CAACe,CAAC,IAAEA,CAAC,CAACD,QAAQ,CAACG,OAAO,CAAC;EAAE,MAAM,CAACC,KAAK,EAACC,QAAQ,CAAC,GAACrB,QAAQ,CAAC,EAAE,CAAC;EAAE,MAAM,CAACsB,IAAI,EAACC,OAAO,CAAC,GAACvB,QAAQ,CAAC,EAAE,CAAC;EAAED,SAAS,CAAC,MAAI;IAAEgB,QAAQ,CAACZ,aAAa,CAAC,CAAC,CAAC;EAAE,CAAC,EAAC,CAACY,QAAQ,CAAC,CAAC;EAAEhB,SAAS,CAAC,MAAI;IAAE,MAAMyB,MAAM,GAAGlB,EAAE,CAACG,EAAE,CAAC;IAAEe,MAAM,CAACC,EAAE,CAAC,SAAS,EAAE,MAAIC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAAC;IAAEH,MAAM,CAACC,EAAE,CAAC,cAAc,EAAE,MAAKV,QAAQ,CAACZ,aAAa,CAAC,CAAC,CAAC,CAAC;IAAEqB,MAAM,CAACC,EAAE,CAAC,cAAc,EAAE,MAAKV,QAAQ,CAACZ,aAAa,CAAC,CAAC,CAAC,CAAC;IAAEqB,MAAM,CAACC,EAAE,CAAC,cAAc,EAAE,MAAKV,QAAQ,CAACZ,aAAa,CAAC,CAAC,CAAC,CAAC;IAAE,OAAO,MAAKqB,MAAM,CAACI,UAAU,CAAC,CAAC;EAAE,CAAC,EAAC,CAACb,QAAQ,CAAC,CAAC;EAAE,MAAMc,GAAG,GAAG,MAAAA,CAAA,KAAU;IAAE,IAAG,CAACT,KAAK,EAAE,OAAOU,KAAK,CAAC,gBAAgB,CAAC;IAAE,MAAMf,QAAQ,CAACX,aAAa,CAAC;MAAEgB,KAAK;MAAEW,WAAW,EAAET;IAAK,CAAC,CAAC,CAAC;IAAED,QAAQ,CAAC,EAAE,CAAC;IAAEE,OAAO,CAAC,EAAE,CAAC;EAAE,CAAC;EAAE,oBAAQf,OAAA;IAAKwB,KAAK,EAAE;MAACC,OAAO,EAAC;IAAE,CAAE;IAAAC,QAAA,gBAAC1B,OAAA;MAAA0B,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAAA9B,OAAA;MAAKwB,KAAK,EAAE;QAACO,YAAY,EAAC;MAAE,CAAE;MAAAL,QAAA,gBAAC1B,OAAA;QAAOgC,WAAW,EAAC,eAAe;QAACC,KAAK,EAAErB,KAAM;QAACsB,QAAQ,EAAEC,CAAC,IAAEtB,QAAQ,CAACsB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAACT,KAAK,EAAE;UAACC,OAAO,EAAC;QAAC;MAAE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eAAA9B,OAAA;QAAOgC,WAAW,EAAC,aAAa;QAACC,KAAK,EAAEnB,IAAK;QAACoB,QAAQ,EAAEC,CAAC,IAAEpB,OAAO,CAACoB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAACT,KAAK,EAAE;UAACC,OAAO,EAAC,CAAC;UAAEY,UAAU,EAAC;QAAC;MAAE;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eAAA9B,OAAA;QAAQsC,OAAO,EAAEjB,GAAI;QAACG,KAAK,EAAE;UAACa,UAAU,EAAC;QAAC,CAAE;QAAAX,QAAA,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EAACnB,OAAO,iBAAIX,OAAA;MAAA0B,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAAC9B,OAAA;MAAA0B,QAAA,EAAKlB,QAAQ,CAAC+B,GAAG,CAACC,CAAC,iBAAIxC,OAAA;QAAA0B,QAAA,gBAAe1B,OAAA,CAACH,IAAI;UAAC4C,EAAE,EAAE,YAAY,GAACD,CAAC,CAACE,EAAG;UAAAhB,QAAA,eAAC1B,OAAA;YAAA0B,QAAA,EAASc,CAAC,CAAC5B;UAAK;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,OAAG,EAACU,CAAC,CAACjB,WAAW;MAAA,GAArFiB,CAAC,CAACE,EAAE;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAsF,CAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AAAG;AAACxB,EAAA,CAAzxCD,SAAS;EAAA,QAAmBZ,WAAW,EAAmBC,WAAW,EAAoCA,WAAW;AAAA;AAAAiD,EAAA,GAApHtC,SAAS;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}