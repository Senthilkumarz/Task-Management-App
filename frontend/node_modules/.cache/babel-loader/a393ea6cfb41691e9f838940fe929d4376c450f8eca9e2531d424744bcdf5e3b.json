{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../api/api';\nexport const fetchProject = createAsyncThunk('tasks/fetchProject', async projectId => {\n  const res = await api.get('/projects/' + projectId);\n  return res.data;\n});\nexport const createTask = createAsyncThunk('tasks/create', async payload => {\n  const res = await api.post('/tasks', payload);\n  return res.data;\n});\nexport const updateTask = createAsyncThunk('tasks/update', async ({\n  id,\n  data\n}) => {\n  const res = await api.put('/tasks/' + id, data);\n  return res.data;\n});\nexport const deleteTask = createAsyncThunk('tasks/delete', async id => {\n  await api.delete('/tasks/' + id);\n  return {\n    id\n  };\n});\nconst slice = createSlice({\n  name: 'tasks',\n  initialState: {\n    project: null,\n    tasks: [],\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: b => {\n    b.addCase(fetchProject.pending, s => {\n      s.loading = true;\n    });\n    b.addCase(fetchProject.fulfilled, (s, a) => {\n      s.loading = false;\n      s.project = a.payload.project;\n      s.tasks = a.payload.tasks;\n    });\n    b.addCase(fetchProject.rejected, (s, a) => {\n      s.loading = false;\n      s.error = a.error.message;\n    });\n    b.addCase(createTask.fulfilled, (s, a) => {\n      s.tasks.push(a.payload);\n    });\n    b.addCase(updateTask.fulfilled, (s, a) => {\n      s.tasks = s.tasks.map(t => t.id === a.payload.id ? a.payload : t);\n    });\n    b.addCase(deleteTask.fulfilled, (s, a) => {\n      s.tasks = s.tasks.filter(t => t.id !== a.payload.id);\n    });\n  }\n});\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","fetchProject","projectId","res","get","data","createTask","payload","post","updateTask","id","put","deleteTask","delete","slice","name","initialState","project","tasks","loading","error","reducers","extraReducers","b","addCase","pending","s","fulfilled","a","rejected","message","push","map","t","filter","reducer"],"sources":["C:/Users/votpl/Downloads/task_manager_complete/frontend/src/store/tasksSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'; import api from '../api/api'; export const fetchProject = createAsyncThunk('tasks/fetchProject', async (projectId)=>{ const res = await api.get('/projects/'+projectId); return res.data; }); export const createTask = createAsyncThunk('tasks/create', async (payload)=>{ const res = await api.post('/tasks', payload); return res.data; }); export const updateTask = createAsyncThunk('tasks/update', async ({id,data})=>{ const res = await api.put('/tasks/'+id, data); return res.data; }); export const deleteTask = createAsyncThunk('tasks/delete', async (id)=>{ await api.delete('/tasks/'+id); return { id }; }); const slice = createSlice({ name:'tasks', initialState:{ project:null, tasks:[], loading:false, error:null }, reducers:{}, extraReducers:(b)=>{ b.addCase(fetchProject.pending,(s)=>{s.loading=true}); b.addCase(fetchProject.fulfilled,(s,a)=>{s.loading=false; s.project=a.payload.project; s.tasks=a.payload.tasks}); b.addCase(fetchProject.rejected,(s,a)=>{s.loading=false; s.error=a.error.message}); b.addCase(createTask.fulfilled,(s,a)=>{s.tasks.push(a.payload)}); b.addCase(updateTask.fulfilled,(s,a)=>{s.tasks=s.tasks.map(t=> t.id===a.payload.id? a.payload: t)}); b.addCase(deleteTask.fulfilled,(s,a)=>{s.tasks=s.tasks.filter(t=> t.id!==a.payload.id)}); } }); export default slice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}